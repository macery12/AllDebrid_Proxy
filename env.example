########## Core ##########
# AllDebrid API key (REQUIRED)
ALLDEBRID_API_KEY=change_me

# Where finished shares live; each job becomes /share/<ID>/
SHARE_ROOT=/share

# Temp directory used while downloading before moving into SHARE_ROOT
TEMP_DIR=/share/.tmp

# Public base URL for links your UI shows (optional; leave empty for relative /d/<ID>/)
# e.g. https://debrid.example.com
SHARE_PUBLIC_BASE=

#password protecting the 
ACCESS_PASSWORD=CHANGE_ME

########## Housekeeping ##########
# Enable background cleanup worker (deletes old shares)
ENABLE_BG_CLEANUP=1
# Delete share folders older than N days
SHARE_RETENTION_DAYS=7

########## Multi-worker / SSE (optional) ##########
# If set, events & cancel work across multiple gunicorn workers (Redis pub/sub)
# If unset, app falls back to in-memory bus (use --workers 1).
REDIS_URL=redis://127.0.0.1:6379/0


########## Download limits & performance ##########
# Hard cap for any single file (bytes) — default 100 GiB
MAX_SIZE=107374182400

# Max concurrent file downloads per job (thread pool size)
DL_CONC=5

# HTTP session pool + retries
DL_MAX_POOL=14
DL_RETRIES=4

# Stream chunk size when downloading (bytes)
DL_CHUNK_BYTES=2097152        # 16 MiB

# Use segmented (Range:) downloading for large files (>= SEGMENT_MIN_BYTES), with this many parts
DL_SEGMENTS=4
SEGMENT_MIN_BYTES=134217728    # 512 MiB

# Refuse to start/continue if free disk space would drop under this (bytes)
MIN_FREE_BYTES=5368709120      # 5 GiB

########## AllDebrid link “unlocking” ##########
# Parallel unlock requests (turn pages into direct links)
AD_UNLOCK_CONC=8
# Soft rate limit for AllDebrid API (requests/sec, token bucket)
AD_RATE=10
AD_BURST=10

########## File sizing (HEAD) before downloading ##########
# Parallel HEAD requests to estimate totals quickly
HEAD_CONC=16
# Per-HEAD timeout in seconds
HEAD_TIMEOUT=5
